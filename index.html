<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aipath パートナー報酬シミュレーター</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #FAF9F6; color: #333; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 300px; max-height: 400px; }
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); transition: all 0.3s ease; }
        .card-shadow:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .interactive-element { cursor: pointer; user-select: none; }
        .active-strategy { border: 2px solid #6366F1; background-color: #EEF2FF; }
    </style>
</head>
<body class="bg-[#FAF9F6] text-gray-800">

    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-indigo-900 tracking-tight">Aipath <span class="text-indigo-500 font-normal">Partner Portal</span></h1>
            <div class="hidden md:flex space-x-6 text-sm font-medium text-gray-500">
                <a href="#strategy" class="hover:text-indigo-600 transition">戦略選択</a>
                <a href="#simulator" class="hover:text-indigo-600 transition">収益シミュレーション</a>
                <a href="#toolkit" class="hover:text-indigo-600 transition">紹介の流れ</a>
                <a href="#tax-guide" class="hover:text-indigo-600 transition">税務ガイド</a> 
            </div>
        </div>
    </nav>

    <header class="bg-white border-b border-gray-100">
        <div class="max-w-4xl mx-auto px-4 py-12 text-center">
            <h2 class="text-2xl md:text-4xl font-bold text-gray-900 mb-4">紹介制度（業務委託）ガイド</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed">
                ネットワークを活用して<br class="md:hidden">英語学習の機会を広げる<br>
                報酬と割引のバランスを各自で設計<br>自由度の高いパートナープログラム
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left mt-8">
                <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                    <div class="text-2xl mb-2">🗽</div>
                    <h3 class="font-bold text-gray-800 mb-2">自由な働き方</h3>
                    <p class="text-sm text-gray-600">時間・場所・ノルマに縛られず、自分のペースで活動可能</p>
                </div>
                <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                    <div class="text-2xl mb-2">📈</div>
                    <h3 class="font-bold text-gray-800 mb-2">成果報酬型</h3>
                    <p class="text-sm text-gray-600">成約数に応じて報酬が発生＋継続に応じてさらにキックバック</p>
                </div>
                <div class="p-6 bg-gray-50 rounded-xl border border-gray-100">
                    <div class="text-2xl mb-2">💼</div>
                    <h3 class="font-bold text-gray-800 mb-2">0リスク・0コスト</h3>
                    <p class="text-sm text-gray-600">非雇用のため、面倒な事務処理が一切不要</p>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-12 space-y-20">

        <section id="strategy" class="scroll-mt-24">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">1. クーポン戦略を選択する</h2>
                <p class="text-gray-600">
                    紹介者様は3つのクーポンタイプから戦略を選べます。「自分への報酬」を優先するか、「紹介しやすさ（割引）」を優先するか、状況に合わせてシミュレーションしてみましょう。
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div id="card-none" class="interactive-element card-shadow bg-white p-6 rounded-xl border border-gray-200 text-center" onclick="updateStrategy('none')">
                    <div class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">報酬最大化</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">クーポンなし</h3>
                    <p class="text-sm text-gray-500 mb-4">割引なし / 報酬 10%</p>
                    <div class="text-3xl font-bold text-indigo-600">¥7,000</div>
                    <div class="text-xs text-gray-400 mt-1">報酬/件</div>
                </div>
                <div id="card-5000" class="interactive-element card-shadow bg-white p-6 rounded-xl border border-gray-200 text-center active-strategy" onclick="updateStrategy('5000')">
                    <div class="text-xs font-bold text-indigo-500 uppercase tracking-wider mb-2">バランス重視</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">5,000円 OFF</h3>
                    <p class="text-sm text-gray-500 mb-4">割引 ¥5,000 / 報酬 7%</p>
                    <div class="text-3xl font-bold text-indigo-600">¥4,900</div>
                    <div class="text-xs text-gray-400 mt-1">報酬/件</div>
                </div>
                <div id="card-7000" class="interactive-element card-shadow bg-white p-6 rounded-xl border border-gray-200 text-center" onclick="updateStrategy('7000')">
                    <div class="text-xs font-bold text-green-500 uppercase tracking-wider mb-2">成約率重視</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">7,000円 OFF</h3>
                    <p class="text-sm text-gray-500 mb-4">割引 ¥7,000 / 報酬 5%</p>
                    <div class="text-3xl font-bold text-indigo-600">¥3,500</div>
                    <div class="text-xs text-gray-400 mt-1">報酬/件</div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h4 class="text-sm font-bold text-gray-500 mb-4 text-center">報酬 vs 割引額の比較</h4>
                    <div class="chart-container">
                        <canvas id="strategyChart"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-full flex flex-col justify-center">
                    <h4 class="text-lg font-bold text-gray-900 mb-4 border-b pb-2">選択中の詳細データ</h4>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">紹介相手の支払い額 (基本)</span>
                            <span id="detail-user-price" class="font-mono font-bold text-xl text-gray-800">¥65,000</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">あなたのキックバック (基本)</span>
                            <span id="detail-kb-price" class="font-mono font-bold text-xl text-indigo-600">¥4,900</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">延長(2万円/回)ごとの報酬</span>
                            <span class="font-mono font-bold text-gray-800">¥2,000 (一律10%)</span>
                        </div>
                        <div class="mt-4 pt-4 border-t border-dashed border-gray-200">
                            <p class="text-sm text-gray-500 mb-2">🔄 <span class="font-bold text-gray-700">カムバック時の報酬</span></p>
                            <p class="text-xs text-gray-500 leading-relaxed">
                                紹介した方が再契約する場合、基本料が <span class="font-bold">¥66,500</span> (5%引) となり、そこから<span id="detail-kb-rate" class="font-bold">7%</span>の報酬 <span id="detail-comeback-kb" class="font-bold text-indigo-600">¥4,655</span> が発生
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="simulator" class="scroll-mt-24">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">2. 収益シミュレーション</h2>
                <p class="text-gray-600">
                    紹介人数とその後の「延長」契約数を入力して、将来的な収益ポテンシャルを予測しましょう。継続的なフォローが大きな収益を生みます。
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-1">
                    <h3 class="font-bold text-gray-800 mb-6">パラメータ設定</h3>
                    
                    <div class="mb-8">
                        <label class="block text-sm font-medium text-gray-700 mb-2">紹介人数 (人)</label>
                        <input type="range" id="input-people" min="1" max="50" value="10" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                        <div class="flex justify-between text-xs text-gray-500 mt-2">
                            <span>1人</span>
                            <span id="val-people" class="font-bold text-indigo-600 text-lg">10人</span>
                            <span>50人</span>
                        </div>
                    </div>

                    <div class="mb-8">
                        <label class="block text-sm font-medium text-gray-700 mb-2">平均延長回数 (1人あたり)</label>
                        <input type="range" id="input-extension" min="0" max="10" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                        <div class="flex justify-between text-xs text-gray-500 mt-2">
                            <span>0回</span>
                            <span id="val-extension" class="font-bold text-indigo-600 text-lg">2回</span>
                            <span>10回</span>
                        </div>
                        <p class="text-xs text-gray-400 mt-2">※企業補助がある場合などは継続率が高まります。</p>
                    </div>

                    <div class="bg-indigo-50 p-4 rounded-lg">
                        <p class="text-xs font-bold text-indigo-800 mb-1">現在の戦略設定:</p>
                        <p id="sim-strategy-name" class="text-sm text-indigo-900">5,000円 OFF (KB 7%)</p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-2 flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-1/2">
                        <div class="chart-container" style="height: 250px;">
                            <canvas id="incomeChart"></canvas>
                        </div>
                    </div>
                    <div class="w-full md:w-1/2 space-y-6">
                        <div>
                            <p class="text-sm text-gray-500 mb-1">基本コース報酬合計</p>
                            <p id="res-base" class="text-2xl font-bold text-gray-800">¥49,000</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 mb-1">延長コース報酬合計 (継続収益)</p>
                            <p id="res-extension" class="text-2xl font-bold text-green-600">+ ¥40,000</p>
                            <p class="text-xs text-gray-400">(@¥2,000 × 延べ回数)</p>
                        </div>
                        <div class="pt-6 border-t border-gray-100">
                            <p class="text-sm font-bold text-indigo-900 mb-1">推定収益合計</p>
                            <p id="res-total" class="text-4xl font-bold text-indigo-600">¥89,000</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="toolkit" class="scroll-mt-24 mb-20">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">3. 紹介の流れ</h2>
                <p class="text-gray-600">
                    スムーズな紹介のためのトーク例と、成約率を高めるためのポイント
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b border-gray-100">
                        <h3 class="font-bold text-gray-800 flex items-center">
                            <span class="mr-2">💬</span> 例)トークスクリプト
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="bg-blue-50 p-4 rounded-lg text-gray-700 text-sm italic leading-relaxed mb-4 relative">
                            <span class="absolute top-2 left-2 text-blue-200 text-4xl -z-0">“</span>
                            「知り合いの会社がやってる英語学習サービスで、<span id="script-discount" class="font-bold text-blue-800">5000円OFF</span>の紹介クーポンがあるからやってみない？」
                        </div>
                        <p class="text-xs text-gray-500">
                            💡 ポイント: 「知り合いの会社」「自分も体験した」「クーポン」の3点を強調。
                        </p>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b border-gray-100">
                        <h3 class="font-bold text-gray-800 flex items-center">
                            <span class="mr-2">🎯</span> 成約率UPのポイント
                        </h3>
                    </div>
                    <ul class="divide-y divide-gray-100">
                        <li class="p-4 hover:bg-gray-50 transition">
                            <p class="font-bold text-sm text-gray-800 mb-1">🏢 企業の英語学習補助を狙う</p>
                            <p class="text-xs text-gray-600">
                                ターゲットの会社に学習補助制度があるか確認しましょう。補助があれば「延長コース」への継続率が高まり、あなたの継続報酬(ストック収入)も増加します。
                            </p>
                        </li>
                        <li class="p-4 hover:bg-gray-50 transition">
                            <p class="font-bold text-sm text-gray-800 mb-1">🔄 カムバックも収益対象</p>
                            <p class="text-xs text-gray-600">
                                一度辞めた人が再開する場合も報酬が発生します。「忙しい時期が終わったらまた再開できるよ」と伝えることで、心理的なハードルを下げられます。
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        
       <section id="tax-guide" class="scroll-mt-24">
    <div class="mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">4. 報酬と税務に関するガイド</h2>
        
    </div>

    <div class="bg-indigo-50 p-6 rounded-xl shadow-sm border border-indigo-200">
        <h3 class="font-bold text-lg text-indigo-900 mb-3 flex items-center">
            <span class="text-2xl mr-2">🎯</span> 副業20万円ルールの基礎
        </h3>
        <p class="text-gray-700 mb-4 leading-relaxed">
            給与所得者（会社員など）が副業で得る<span class="font-bold">年間</span>の<span class="font-bold">所得（収入から経費を引いた利益）</span>が<span class="font-bold">20万円以下</span>の場合、原則として<span class="font-bold">確定申告が不要</span>となります（住民税の申告は別途必要）。
        </p>

        <ul class="list-disc list-inside space-y-2 text-sm text-gray-600 pl-4">
            <li class="font-medium text-gray-800">「所得」: 報酬（売上）ではありません。活動にかかった費用（通信費、交通費など）を引いた利益です。</li>
            <li>このルールは、あくまで<span class="font-bold">所得税</span>に関するものです。住民税の申告は必要です。</li>
            <li>20万円を超えると、ご自身で確定申告を行う必要があります。</li>
        </ul>

        <div class="mt-4 pt-4 border-t border-indigo-200 border-dashed">
            <p class="text-sm font-bold text-indigo-800">✅ Aipathのスタンス</p>
            <p class="text-xs text-indigo-700 leading-relaxed mt-1">
                当プログラムの報酬設計は、多くのパートナー様がこの「20万円の壁」を意識しやすいよう、無理なく活動できる範囲の副収入となることを想定しています。活動を拡大される際は、税理士など専門家にご相談ください。
            </p>
        </div>
    </div>
</section>
        
        <hr class="border-t border-gray-200 my-16">
        
    </main>

    <footer class="bg-gray-800 text-gray-300 py-12 text-center text-sm">
        <div class="max-w-4xl mx-auto px-4">
            <p class="mb-4">Aipath Partner Program</p>
        </div>
    </footer>

    <script>
        // Data Definitions
        const strategies = {
            'none': { label: 'クーポンなし', discount: 0, kickbackRate: 0.10, kickbackAmount: 7000 },
            '5000': { label: '5,000円 OFF', discount: 5000, kickbackRate: 0.07, kickbackAmount: 4900 },
            '7000': { label: '7,000円 OFF', discount: 7000, kickbackRate: 0.05, kickbackAmount: 3500 }
        };

        const basePrice = 70000;
        const extensionPrice = 20000;
        const extensionKickbackRate = 0.10;
        const comebackBasePrice = 66500;

        // State
        let currentStrategy = '5000';
        let peopleCount = 10;
        let extensionAvg = 2;

        // Chart Instances
        let strategyChart = null;
        let incomeChart = null;

        // DOM Elements
        const els = {
            cards: {
                none: document.getElementById('card-none'),
                5000: document.getElementById('card-5000'),
                7000: document.getElementById('card-7000')
            },
            detailUserPrice: document.getElementById('detail-user-price'),
            detailKbPrice: document.getElementById('detail-kb-price'),
            detailKbRate: document.getElementById('detail-kb-rate'),
            detailComebackKb: document.getElementById('detail-comeback-kb'),
            inputs: {
                people: document.getElementById('input-people'),
                extension: document.getElementById('input-extension')
            },
            displays: {
                people: document.getElementById('val-people'),
                extension: document.getElementById('val-extension'),
                simStrategy: document.getElementById('sim-strategy-name'),
                resBase: document.getElementById('res-base'),
                resExtension: document.getElementById('res-extension'),
                resTotal: document.getElementById('res-total'),
                scriptDiscount: document.getElementById('script-discount')
            }
        };

        // Initialization
        function init() {
            initStrategyChart();
            initIncomeChart();
            setupListeners();
            updateUI();
        }

        // Logic: Charts
        function initStrategyChart() {
            const ctx = document.getElementById('strategyChart').getContext('2d');
            strategyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['あなたの報酬 (1件)', '相手の割引額'],
                    datasets: [{
                        label: '金額 (円)',
                        data: [4900, 5000],
                        backgroundColor: ['#4F46E5', '#10B981'],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `¥${ctx.raw.toLocaleString()}`
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 8000,
                            ticks: { callback: (val) => '¥' + val }
                        }
                    }
                }
            });
        }

        function initIncomeChart() {
            const ctx = document.getElementById('incomeChart').getContext('2d');
            incomeChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['基本コース報酬', '延長コース報酬'],
                    datasets: [{
                        data: [100, 100],
                        backgroundColor: ['#4F46E5', '#34D399'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `¥${ctx.raw.toLocaleString()}`
                            }
                        }
                    }
                }
            });
        }

        // Logic: Updates
        function updateStrategy(key) {
            currentStrategy = key;
            
            // Update Card Styles
            Object.keys(els.cards).forEach(k => {
                if (k === key) {
                    els.cards[k].classList.add('active-strategy');
                } else {
                    els.cards[k].classList.remove('active-strategy');
                }
            });

            updateUI();
        }

        function updateUI() {
            const strat = strategies[currentStrategy];
            
            // 1. Update Strategy Details
            const userPrice = basePrice - strat.discount;
            els.detailUserPrice.textContent = `¥${userPrice.toLocaleString()}`;
            els.detailKbPrice.textContent = `¥${strat.kickbackAmount.toLocaleString()}`;
            els.detailKbRate.textContent = `${(strat.kickbackRate * 100)}%`;
            
            const comebackKb = Math.floor(comebackBasePrice * strat.kickbackRate);
            els.detailComebackKb.textContent = `¥${comebackKb.toLocaleString()}`;

            // Update Chart 1
            strategyChart.data.datasets[0].data = [strat.kickbackAmount, strat.discount];
            strategyChart.update();

            // 2. Update Simulator
            peopleCount = parseInt(els.inputs.people.value);
            extensionAvg = parseInt(els.inputs.extension.value);
            
            els.displays.people.textContent = `${peopleCount}人`;
            els.displays.extension.textContent = `${extensionAvg}回`;
            els.displays.simStrategy.textContent = `${strat.label} (KB ${(strat.kickbackRate * 100)}%)`;

            const baseIncome = peopleCount * strat.kickbackAmount;
            const extensionIncomePerPerson = extensionAvg * (extensionPrice * extensionKickbackRate); // 2000 per ext
            const totalExtensionIncome = peopleCount * extensionIncomePerPerson;
            const totalIncome = baseIncome + totalExtensionIncome;

            els.displays.resBase.textContent = `¥${baseIncome.toLocaleString()}`;
            els.displays.resExtension.textContent = `+ ¥${totalExtensionIncome.toLocaleString()}`;
            els.displays.resTotal.textContent = `¥${totalIncome.toLocaleString()}`;

            // Update Chart 2
            incomeChart.data.datasets[0].data = [baseIncome, totalExtensionIncome];
            incomeChart.update();

            // 3. Update Toolkit
            if (strat.discount > 0) {
                // Ensure the script-discount span exists and update its text/class
                if (els.displays.scriptDiscount) {
                    els.displays.scriptDiscount.textContent = `${strat.discount.toLocaleString()}円OFF`;
                    els.displays.scriptDiscount.className = "font-bold text-blue-800";
                }
            } else {
                if (els.displays.scriptDiscount) {
                    els.displays.scriptDiscount.textContent = `特別`; // Fallback text for no discount
                    els.displays.scriptDiscount.className = "font-bold text-gray-800";
                }
            }
        }

        function setupListeners() {
            els.inputs.people.addEventListener('input', (e) => {
                peopleCount = parseInt(e.target.value);
                updateUI();
            });
            els.inputs.extension.addEventListener('input', (e) => {
                extensionAvg = parseInt(e.target.value);
                updateUI();
            });
        }

        // Boot
        window.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>
